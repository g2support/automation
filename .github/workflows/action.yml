name: Install htop and Docker

on:
  workflow_dispatch:

jobs:
  install-htop:
    runs-on: self-hosted

    steps:
      - name: Update apt cache
        run: sudo apt-get update

      - name: Install htop
        run: sudo apt-get install -y htop

      - name: Verify htop installation
        run: htop --version

  install-docker:
    runs-on: self-hosted

    steps:
      - name: Update apt cache
        run: sudo apt-get update

      - name: Install Docker
        run: sudo apt-get install -y docker.io

      - name: Enable and start Docker service
        run: |
          sudo systemctl enable docker
          sudo systemctl start docker
          sudo systemctl status docker